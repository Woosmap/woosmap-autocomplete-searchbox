<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Localities Then Woosmap Address</title>
    <link rel="icon" type="image/png"
          href="data:image/png;base64,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">
    <style>
        code {
            font-family: Consolas, Courier, monospace;
            color: #333;
            padding: 0.2em 0.4em;
            font-size: 0.9em;
            background: rgb(247, 247, 247);
        }

        pre {
            margin: 0;
            margin-top: 0.5em;
        }

        .string {
            color: green;
        }

        .number {
            color: darkorange;
        }

        .boolean {
            color: blue;
        }

        .null {
            color: magenta;
        }

        .key {
            color: red;
        }

        body {
            background: url(https://wgs3.s3.amazonaws.com/perso/ga/mockup/background-home.svg) no-repeat, linear-gradient(301deg, #015180, #0277BD);
            background-position: center bottom, left bottom;
            background-size: cover, auto;
            background-attachment: fixed;
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
        }


        .wrapper {
            width: 100%;
            display: flex;
            padding: 1em;
            position: relative;
            max-height: 700px;
        }

        @media only screen and (max-width: 720px) {
            .wrapper {
                flex-direction: column;
                max-height: 1200px;
                width: 100vw;
                margin: 0;
                padding: 0;
                padding-right: 20px !important;
            }

            .wrapper-search {
                width: 100% !important;
                height: 650px;
                margin-right: 0 !important;

            }

            #result-asset {
                width: 100% !important;
                height: 500px;
                padding: 0 !important;

            }
        }

        .wrapper-search {
            width: 50%;
            margin: 10px;
            background: rgba(250, 250, 250, 0.2);
            position: relative;
            border-radius: 3px;
        }

        #wrapper-searchbox {
            height: 50px;
            border-radius: 3px;
            display: flex;
            justify-content: center;
            padding-top: 1em;
        }

        #my-input-woosmap {
        }

        #result-asset {
            width: 50%;
            background: #FFF;
            margin: 10px;
            padding: 10px;
            border-radius: 3px;
        }

        #my-input-woosmap {
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);
            font-size: 15px;
            max-width: 320px;
            border-radius: 3px;
            border: 0;
            width: 300px;
            height: 40px;
            padding-right: 15px;
            padding-left: 15px;
        }

        .autocomplete {
            z-index: 2;
        }

        #wrapper-map {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 3px;
        }


        .wrapper-search-settings {
            display: flex;
            flex-direction: column;
            position: absolute;
            color: #555;
            z-index: 1;
            line-height: 25px;
            font-size: 15px;
            max-width: 320px;
            border-radius: 3px;
            border: 0;
            width: 300px;
            padding: 5px;
            bottom: 10px;
            background: #fff;
            -webkit-transition: all 0.2s ease-in-out;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.16), 0 0 0 1px rgba(0, 0, 0, 0.08);
        }

        fieldset {
            border: 1px solid #DFDFDF;
            padding: 5px;
        }

    </style>
</head>
<body style="width: 100%;">
<div class="wrapper">
    <div class="wrapper-search">
        <div id="wrapper-searchbox">
            <input id="my-input-woosmap"
                   placeholder="Search for Postcode Or Locality..."/>
            <div class="wrapper-search-settings">
                <fieldset>
                    <legend>Call Google Places Condition</legend>
                    <div>
                        <label for="minRatio">Minimum Partial Matching Ratio (%):</label>
                        <input type="number" id="minRatio" name="minRatio"
                               min="1" max="100" value="75" onchange="saveSettings()">
                    </div>
                    <div>
                        <label for="breakpointRatio">Breakpoint Ratio (%):</label>
                        <input type="number" id="breakpointRatio" name="breakpointRatio"
                               min="1" max="100" value="100" onchange="saveSettings()">
                    </div>
                </fieldset>

                <div>
                    <label for="language-select">Language:</label>
                    <select id="language-select" onchange="saveSettings()">
                        <option value="fr">French</option>
                        <option value="en">English</option>
                        <option value="it">Italian</option>
                        <option value="es">Spanish</option>
                        <option value="de">Deutsch</option>
                        <option value="nl">Dutch</option>
                        <option value="pt">Portuguese</option>
                        <option value="ja">Japanese</option>
                        <option value="ko">Korean</option>
                        <option value="zh">Chinese</option>
                        <option value="ru">Russian</option>
                    </select>
                </div>
                <div>
                    <label for="components-select">Components:</label>
                    <select id="components-select" onchange="saveSettings()">
                        <option value="" data-woosmapaddress="">no restrictions</option>
                        <option value="GB" data-woosmapaddress="GBR">United Kingdom</option>
                        <option value="FR" data-woosmapaddress="FRA">France</option>
                        <option value="ES" data-woosmapaddress="ESP">Spain</option>
                        <option value="IT" data-woosmapaddress="ITA">Italy</option>
                        <option value="NL" data-woosmapaddress="NLD">Netherlands</option>
                        <option value="GB,ES" data-woosmapaddress="GBR,ESP">GB and ES</option>
                        <option value="GB,FR,IT" data-woosmapaddress="GBR,ESP,ITA">GB and FR and IT</option>
                    </select>
                </div>
            </div>
        </div>
        <div id="wrapper-map">
        </div>
    </div>
    <pre style="word-wrap: break-word; white-space: pre-wrap; overflow: auto;" id="result-asset"></pre>
</div>
<script>
    let map;
    let marker;
    let rectangle;
    let autocomplete;

    const config = {
        woosmap: {
            projectKey: "woos-b6c8c68d-cbde-3201-b414-3db694722b69",
            types: ["locality", "postal_code", "admin_level", "country", "airport", "metro_station", "train_station", "shopping"]
        },
        autocomplete: {minChars: 1},
        search: {
            fallbackWoosmapAddress: true
        },
        google: {apiKey: "AIzaSyBn3kw1bNdgmiXAczwr2DcKLAaW-M3nX14"},
        analytics: {tracking: true, analyticsKey: "UA-16453227-28"}
    };

    function saveSettings() {
        const componentSelect = document.getElementById('components-select');
        const languageSelect = document.getElementById('language-select');
        const components = componentSelect.options[componentSelect.selectedIndex].value;
        const language = languageSelect.options[languageSelect.selectedIndex].value;
        const componentsISO3 = componentSelect.options[componentSelect.selectedIndex].getAttribute('data-woosmapaddress');
        if (components !== "") {
            autocomplete.woosmap.componentRestrictions = {country: components.split(",")};
            autocomplete.woosmapaddress.componentRestrictions = {country: componentsISO3.split(",")};
            autocomplete.woosmap.language = language;
            autocomplete.woosmapaddress.language = language;
            autocomplete.woosmapaddress.componentRestrictions = {country: componentsISO3.split(",")};
            autocomplete.google.componentRestrictions = {country: components.split(",")};
        } else {
            autocomplete.woosmap.componentRestrictions = {};
            autocomplete.woosmapaddress.componentRestrictions = {};
            autocomplete.google.componentRestrictions = {};
        }
        autocomplete.autocomplete.minChars = 1;
        autocomplete.minRatio = document.getElementById('minRatio').value;
        autocomplete.breakpointRatio = document.getElementById("breakpointRatio").value;
        document.getElementById('my-input-woosmap').value = "";

    }

    function syntaxHighlight(json) {
        if (typeof json != 'string') {
            json = JSON.stringify(json, undefined, 2);
        }
        json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
        return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, match => {
            let cls = 'number';
            if (/^"/.test(match)) {
                if (/:$/.test(match)) {
                    cls = 'key';
                } else {
                    cls = 'string';
                }
            } else if (/true|false/.test(match)) {
                cls = 'boolean';
            } else if (/null/.test(match)) {
                cls = 'null';
            }
            return '<span class="' + cls + '">' + match + '</span>';
        });
    }

    function zoomAndCenterMap(latlng, viewpoint) {
        if (marker) {
            marker.setMap(null);
        }
        if (rectangle) {
            rectangle.setMap(null);
        }
        marker = new google.maps.Marker({
            map,
            position: latlng,
            icon: "https://s3.eu-central-1.amazonaws.com/webapp-conf.woosmap.com/woos-6d55bb93-5107-30e5-8d81-85fb905b963c/default.svg"
        });

        if (viewpoint) {
            rectangle = new google.maps.Rectangle({
                strokeColor: '#00b2fc',
                strokeOpacity: 1,
                strokeWeight: 3,
                fillColor: '#00b2fc',
                fillOpacity: 0.1,
                map,
                bounds: viewpoint
            });
            map.fitBounds(viewpoint)
        } else {
            map.setCenter(latlng);
            map.setZoom(9);
        }
    }


    function displayJSONData(data) {
        document.getElementById("result-asset").innerHTML = '<h3><h2>' + data.label + '</h2></h3>';
        document.getElementById("result-asset").innerHTML += syntaxHighlight(JSON.stringify(data, undefined, 2));
    }


    function initAutocompleteWoosmap() {
        autocomplete = new AutocompleteWoosmapSearchBox(document.getElementById('my-input-woosmap'), config);

        document.getElementById('my-input-woosmap').addEventListener('autocomplete-google-selectcomplete', ({placeDetails}) => {
            placeDetails.label = placeDetails.vicinity;
            displayJSONData(placeDetails);
            const myLatLng = placeDetails.geometry.location;
            let myViewPoint = null;
            if (placeDetails.geometry.viewport) {
                myViewPoint = placeDetails.geometry.viewport;
            }
            zoomAndCenterMap(myLatLng, myViewPoint);

        });

        document.getElementById('my-input-woosmap').addEventListener('autocomplete-woosmapaddress-selectcomplete', ({addressDetails}) => {
            addressDetails.label = addressDetails.formatted_address;
            displayJSONData(addressDetails);
            const myLatLng = addressDetails.geometry.location;
            let myViewPoint = null;
            if (addressDetails.geometry.viewport) {
                myViewPoint = {
                    "south": addressDetails.geometry.viewport.southwest.lat,
                    "west": addressDetails.geometry.viewport.southwest.lng,
                    "north": addressDetails.geometry.viewport.northeast.lat,
                    "east": addressDetails.geometry.viewport.northeast.lng
                }
            }
            zoomAndCenterMap(myLatLng, myViewPoint);
        });

        document.getElementById('my-input-woosmap').addEventListener('autocomplete-woosmap-selectcomplete', ({woosmapLocality}) => {
            displayJSONData(woosmapLocality);
            const myLatLng = {
                lat: woosmapLocality.location.lat,
                lng: woosmapLocality.location.lng
            };
            let myViewPoint = null;
            if (woosmapLocality.viewpoint) {
                myViewPoint = woosmapLocality.viewpoint.bounds;
            }
            zoomAndCenterMap(myLatLng, myViewPoint)

        });
    }

    function initMap() {
        map = new google.maps.Map(document.getElementById('wrapper-map'), {
            center: {lat: 43, lng: 3},
            zoom: 2,
            disableDefaultUI: true
        });
        initAutocompleteWoosmap();
    }


</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBn3kw1bNdgmiXAczwr2DcKLAaW-M3nX14&libraries=places&callback=initMap"></script>

</body>
</html>